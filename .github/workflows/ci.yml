name: cppforge CI

on: [push, pull_request]

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v4
    
    - name: Install Qt5 and Dependencies
      run: |
        sudo apt-get update
        sudo apt-get install -y qtbase5-dev qt5-qmake cmake build-essential
    
    - name: Build Core
      run: |
        mkdir build-core && cd build-core
        cmake ../src/core -DCMAKE_CXX_STANDARD=20
        make
        
    - name: Build GUI
      run: |
        mkdir build-gui && cd build-gui
        cmake ../src/gui -DCMAKE_CXX_STANDARD=20
        make